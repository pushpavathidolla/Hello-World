pipeline {
  agent any
  tools {
    maven "maven"
  }
    
  stages {
    stage('SonarQube Analysis') {
      steps {
        withSonarQubeEnv('SonarQube') {
        sh "mvn clean package sonar:sonar -Dsonar.sources=."
       }
      }
    }
    stage('Checkout') { 
     steps {    
      sh "mvn clean package"
      }
     }
    }
}
